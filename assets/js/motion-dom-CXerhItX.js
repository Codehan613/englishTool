import{a as x,m as E,s as S,n as B,p as M}from"./motion-utils-Bq7ogXa8.js";const _=x(()=>window.ScrollTimeline!==void 0);class D{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(_()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class J extends D{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Q(e,t){return e?e[t]||e.default||e:void 0}const b=2e4;function $(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<b;)t+=n,i=e.next(t);return t>=b?1/0:t}function Z(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min($(i),b);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:E(r)}}function tt(e){return typeof e=="function"}function K(e,t){e.timeline=t,e.onfinish=null}class et{constructor(t){this.animation=t}get duration(){var t,n,i;const r=((n=(t=this.animation)===null||t===void 0?void 0:t.effect)===null||n===void 0?void 0:n.getComputedTiming().duration)||((i=this.options)===null||i===void 0?void 0:i.duration)||300;return E(Number(r))}get time(){var t;return this.animation?E(((t=this.animation)===null||t===void 0?void 0:t.currentTime)||0):0}set time(t){this.animation&&(this.animation.currentTime=S(t))}get speed(){return this.animation?this.animation.playbackRate:1}set speed(t){this.animation&&(this.animation.playbackRate=t)}get state(){return this.animation?this.animation.playState:"finished"}get startTime(){return this.animation?this.animation.startTime:null}get finished(){return this.animation?this.animation.finished:Promise.resolve()}play(){this.animation&&this.animation.play()}pause(){this.animation&&this.animation.pause()}stop(){!this.animation||this.state==="idle"||this.state==="finished"||(this.animation.commitStyles&&this.animation.commitStyles(),this.cancel())}flatten(){var t;this.animation&&((t=this.animation.effect)===null||t===void 0||t.updateTiming({easing:"linear"}))}attachTimeline(t){return this.animation&&K(this.animation,t),B}complete(){this.animation&&this.animation.finish()}cancel(){try{this.animation&&this.animation.cancel()}catch{}}}const I=e=>Array.isArray(e)&&typeof e[0]=="number",O={linearEasing:void 0};function z(e,t){const n=x(e);return()=>{var i;return(i=O[t])!==null&&i!==void 0?i:n()}}const v=z(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),H=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=e(M(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function R(e){return!!(typeof e=="function"&&v()||!e||typeof e=="string"&&(e in A||v())||I(e)||Array.isArray(e)&&e.every(R))}const d=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:d([0,.65,.55,1]),circOut:d([.55,0,1,.45]),backIn:d([.31,.01,.66,-.59]),backOut:d([.33,1.53,.69,.99])};function W(e,t){if(e)return typeof e=="function"&&v()?H(e,t):I(e)?d(e):Array.isArray(e)?e.map(n=>W(n,t)||A.easeOut):A[e]}const l={x:!1,y:!1};function C(){return l.x||l.y}function U(e,t,n){var i;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const o=(i=n==null?void 0:n[e])!==null&&i!==void 0?i:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function G(e,t){const n=U(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function P(e){return!(e.pointerType==="touch"||C())}function nt(e,t,n={}){const[i,r,o]=G(e,n),p=a=>{if(!P(a))return;const{target:s}=a,c=t(s,a);if(typeof c!="function"||!s)return;const f=m=>{P(m)&&(c(m),s.removeEventListener("pointerleave",f))};s.addEventListener("pointerleave",f,r)};return i.forEach(a=>{a.addEventListener("pointerenter",p,r)}),o}function L(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&e.pointerId!==void 0)try{e.target[n](e.pointerId)}catch{}}const N=(e,t)=>t?e===t?!0:N(e,t.parentElement):!1,V=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,X=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q(e){return X.has(e.tagName)||e.tabIndex!==-1}const h=new WeakSet;function w(e){return t=>{t.key==="Enter"&&e(t)}}function g(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=w(()=>{if(h.has(n))return;g(n,"down");const r=w(()=>{g(n,"up")}),o=()=>g(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function k(e){return V(e)&&!C()}function it(e,t,n={}){const[i,r,o]=G(e,n),p=a=>{const s=a.currentTarget;if(!s||!k(a)||h.has(s))return;h.add(s),L(a,"set");const c=t(s,a),f=(u,T)=>{s.removeEventListener("pointerup",m),s.removeEventListener("pointercancel",y),L(u,"release"),!(!k(u)||!h.has(s))&&(h.delete(s),typeof c=="function"&&c(u,{success:T}))},m=u=>{(u.isTrusted?j(u,s instanceof Element?s.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?f(u,!1):f(u,!(s instanceof Element)||N(s,u.target))},y=u=>{f(u,!1)};s.addEventListener("pointerup",m,r),s.addEventListener("pointercancel",y,r),s.addEventListener("lostpointercapture",y,r)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let s=!1;a instanceof HTMLElement&&(s=!0,!q(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",p,r),s&&a.addEventListener("focus",c=>Y(c,r),r)}),o}function j(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function rt(e){return e==="x"||e==="y"?l[e]?null:(l[e]=!0,()=>{l[e]=!1}):l.x||l.y?null:(l.x=l.y=!0,()=>{l.x=l.y=!1})}export{J as G,et as N,I as a,W as b,$ as c,K as d,R as e,Q as f,H as g,V as h,tt as i,L as j,rt as k,nt as l,b as m,_ as n,Z as o,it as p,C as q,U as r,v as s};
