import{a as L,m as g,s as N,n as B,p as C}from"./motion-utils-Bq7ogXa8.js";const _=L(()=>window.ScrollTimeline!==void 0);class D{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(_()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class X extends D{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function J(e,t){return e?e[t]||e.default||e:void 0}const v=2e4;function M(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<v;)t+=n,i=e.next(t);return t>=v?1/0:t}function Q(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(M(i),v);return{type:"keyframes",ease:s=>i.next(r*s).value/t,duration:g(r)}}function Y(e){return typeof e=="function"}function $(e,t){e.timeline=t,e.onfinish=null}class Z{constructor(t){this.animation=t}get duration(){var t,n,i;const r=((n=(t=this.animation)===null||t===void 0?void 0:t.effect)===null||n===void 0?void 0:n.getComputedTiming().duration)||((i=this.options)===null||i===void 0?void 0:i.duration)||300;return g(Number(r))}get time(){var t;return this.animation?g(((t=this.animation)===null||t===void 0?void 0:t.currentTime)||0):0}set time(t){this.animation&&(this.animation.currentTime=N(t))}get speed(){return this.animation?this.animation.playbackRate:1}set speed(t){this.animation&&(this.animation.playbackRate=t)}get state(){return this.animation?this.animation.playState:"finished"}get startTime(){return this.animation?this.animation.startTime:null}get finished(){return this.animation?this.animation.finished:Promise.resolve()}play(){this.animation&&this.animation.play()}pause(){this.animation&&this.animation.pause()}stop(){!this.animation||this.state==="idle"||this.state==="finished"||(this.animation.commitStyles&&this.animation.commitStyles(),this.cancel())}flatten(){var t;this.animation&&((t=this.animation.effect)===null||t===void 0||t.updateTiming({easing:"linear"}))}attachTimeline(t){return this.animation&&$(this.animation,t),B}complete(){this.animation&&this.animation.finish()}cancel(){try{this.animation&&this.animation.cancel()}catch{}}}const k=e=>Array.isArray(e)&&typeof e[0]=="number",z={linearEasing:void 0};function K(e,t){const n=L(e);return()=>{var i;return(i=z[t])!==null&&i!==void 0?i:n()}}const E=K(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),R=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=e(C(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function U(e){return!!(typeof e=="function"&&E()||!e||typeof e=="string"&&(e in b||E())||k(e)||Array.isArray(e)&&e.every(U))}const d=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:d([0,.65,.55,1]),circOut:d([.55,0,1,.45]),backIn:d([.31,.01,.66,-.59]),backOut:d([.33,1.53,.69,.99])};function V(e,t){if(e)return typeof e=="function"&&E()?R(e,t):k(e)?d(e):Array.isArray(e)?e.map(n=>V(n,t)||b.easeOut):b[e]}const u={x:!1,y:!1};function x(){return u.x||u.y}function W(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const s=(i=n==null?void 0:n[e])!==null&&i!==void 0?i:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function G(e,t){const n=W(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function T(e){return!(e.pointerType==="touch"||x())}function tt(e,t,n={}){const[i,r,s]=G(e,n),p=a=>{if(!T(a))return;const{target:o}=a,l=t(o,a);if(typeof l!="function"||!o)return;const f=m=>{T(m)&&(l(m),o.removeEventListener("pointerleave",f))};o.addEventListener("pointerleave",f,r)};return i.forEach(a=>{a.addEventListener("pointerenter",p,r)}),s}const I=(e,t)=>t?e===t?!0:I(e,t.parentElement):!1,H=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,O=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j(e){return O.has(e.tagName)||e.tabIndex!==-1}const h=new WeakSet;function P(e){return t=>{t.key==="Enter"&&e(t)}}function y(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const q=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=P(()=>{if(h.has(n))return;y(n,"down");const r=P(()=>{y(n,"up")}),s=()=>y(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function w(e){return H(e)&&!x()}function et(e,t,n={}){const[i,r,s]=G(e,n),p=a=>{const o=a.currentTarget;if(!w(a)||h.has(o))return;h.add(o);const l=t(o,a),f=(c,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",A),!(!w(c)||!h.has(o))&&(h.delete(o),typeof l=="function"&&l(c,{success:S}))},m=c=>{f(c,n.useGlobalTarget||I(o,c.target))},A=c=>{f(c,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",A,r)};return i.forEach(a=>{!j(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",p,r),a.addEventListener("focus",l=>q(l,r),r)}),s}function nt(e){return e==="x"||e==="y"?u[e]?null:(u[e]=!0,()=>{u[e]=!1}):u.x||u.y?null:(u.x=u.y=!0,()=>{u.x=u.y=!1})}export{X as G,Z as N,k as a,V as b,M as c,$ as d,U as e,J as f,R as g,H as h,Y as i,nt as j,tt as k,_ as l,v as m,Q as n,x as o,et as p,W as r,E as s};
